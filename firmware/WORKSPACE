load("@bazel_tools//tools/build_defs/repo:git.bzl", "git_repository")

# custom AVR-specific rules
git_repository(
    name = "avr-bazel",
    commit = "b7f50ee9d2835d7ce42990dd2732af89cbcb0915",
    remote = "https://github.com/taylorconor/avr-bazel",
)

load("@avr-bazel//:avr.bzl", "avr_tools_repository")

avr_tools_repository()

# google test and google mock.
git_repository(
    name = "gtest",
    commit = "703bd9caab50b139428cea1aaff9974ebee5742e",
    remote = "https://github.com/google/googletest",
)

# google abseil library.
git_repository(
    name = "abseil",
    remote = "https://github.com/abseil/abseil-cpp",
    branch = "20210324.1",
)

# a local repo representing the third party library locations (e.g. for simavr).
# TODO: this is platform-specific and needs to be generalised.
new_local_repository(
    name = "third_party",
    build_file = "third_party/BUILD.third_party",
    path = "/usr/",
    workspace_file = "third_party/WORKSPACE.third_party",
)
